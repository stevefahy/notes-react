const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/error-alert-Bbw5xTAM.js","assets/mui-vendor-CW2_5rLd.js","assets/react-vendor-DLlvbPZt.js","assets/error-alert-DdB8HbXB.css"])))=>i.map(i=>d[i]);
import{B as h,A as R,_ as S}from"./index-lzanjXxa.js";import{j as e,J as T,K as M,O as B,y as D}from"./mui-vendor-CW2_5rLd.js";import{r as a}from"./react-vendor-DLlvbPZt.js";import"./redux-vendor-BvN4x8k-.js";const I="_button_row_1wf66_69",F="_form_1wf66_19",P="_control_1wf66_91",K="_action_1wf66_145",y="_action_disabled_1wf66_147",H="_select_dialogue_1wf66_157",n={button_row:I,form:F,control:P,action:K,action_disabled:y,select_dialogue:H},V=[{value:"default",name:"Default"},{value:"red",name:"Red"},{value:"green",name:"Green"},{value:"blue",name:"Blue"}],d=R,z=a.lazy(()=>S(()=>import("./error-alert-Bbw5xTAM.js"),__vite__mapDeps([0,1,2,3]))),J=o=>{const[g,s]=a.useState({state:!1,message:""}),[l,j]=a.useState("default"),[m,v]=a.useState(""),[O,i]=a.useState(!1),r=a.useRef(null);let _="",f="default",c="",u="default";o.method==="edit"&&o.notebook?(c=_=o.notebook.notebook_name,u=f=o.notebook.notebook_cover):(c=_,u=f);const b=()=>!O,C=t=>{v(t),i(t!==c||l!==u)},E=t=>{v(r.current.value),j(t),r.current.value!==c||r.current.value!==""&&t!==u?i(!0):i(!1)},A=t=>{t.preventDefault(),t.stopPropagation(),s({state:!1,message:""}),o.onCancel()},N=async t=>{if(t.preventDefault(),t.stopPropagation(),s({state:!1,message:""}),!m||m.length<d.NOTEBOOK_NAME_MIN){s({state:!0,message:`${d.NOTEBOOK_NAME_MIN_ERROR}`});return}if(m.length>d.NOTEBOOK_NAME_MAX){s({state:!0,message:`${d.NOTEBOOK_NAME_MAX_ERROR}`});return}if(!l||l.length===0){s({state:!0,message:d.NOTEBOOK_COVER_EMPTY});return}const k=r.current.value;if(o.method==="edit"&&o.notebook&&o.editNotebook){const w=o.notebook._id;let x=new Date().toISOString();o.notebook.updatedAt&&(x=o.notebook.updatedAt),o.editNotebook(w,k,l,x)}else o.method==="create"&&o.addNotebook&&o.addNotebook(k,l)};return e.jsx(a.Fragment,{children:e.jsxs(T,{open:!0,children:[e.jsx(M,{children:o.method==="edit"?"Edit Notebook":"Add Notebook"}),e.jsxs(B,{children:[e.jsxs("form",{className:n.form,children:[e.jsxs("div",{className:n.control,children:[e.jsx("label",{htmlFor:"new-notebook",children:"Name"}),e.jsx("input",{type:"text",id:"new-notebook",ref:r,defaultValue:_,onChange:t=>{C(t.target.value)}})]}),e.jsxs("div",{className:n.control,children:[e.jsx("label",{htmlFor:"new-notebook-cover",children:"Cover"}),e.jsx("select",{name:"cars",className:n.select_dialogue,id:"new-notebook-cover",defaultValue:f,onChange:t=>{E(t.target.value)},children:V.map(t=>e.jsx("option",{value:t.value,children:t.name},t.value))})]})]}),e.jsxs("div",{className:n.button_row,children:[e.jsxs("div",{className:b()?n.action_disabled:n.action,children:[o.method==="create"&&e.jsx(h,{disabled:b(),variant:"contained",color:"secondary",size:"medium",onClick:N,children:"Add"}),o.method==="edit"&&e.jsx(h,{variant:"contained",onClick:N,disabled:b(),children:"Confirm"})]}),e.jsx("div",{children:e.jsxs(h,{variant:"contained",size:"medium",onClick:A,children:[e.jsx(D,{sx:{mr:1}}),"Cancel"]})})]}),g.state&&e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(z,{children:e.jsx("div",{children:g.message})})})]})]})})};export{J as default};
